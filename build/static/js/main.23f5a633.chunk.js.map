{"version":3,"sources":["components/Loading.js","components/SearchBar.js","components/Result.js","components/Results.js","components/DataSection.js","util/Data.js","util/Accuracy.js","pages/Dashboard.js","pages/Home.js","components/LoginButton.js","components/LogoutButton.js","components/AuthenticationButton.js","components/auth-nav.js","components/NavBar.js","App.js","index.js"],"names":["Loading","CircularProgress","SearchBar","props","handleSearch","bind","event","this","searchData","preventDefault","Button","color","onClick","React","Component","Result","List","component","ListItem","button","alignItems","ListItemText","primary","business","name","secondary","categories","Results","loading","style","marginTop","size","thickness","visibility","display","businesses","map","key","id","DataSection","title","flexDirection","data","user","mae","rmse","Data","Search","fetch","then","response","json","jsonResponse","index","Accuracy","Dashboard","showLoading","Promise","setState","start","moment","now","queryTime","diff","measureAccuracy","accuracy","searchHandler","state","className","Home","LoginButton","loginWithRedirect","useAuth0","LogoutButton","logout","returnTo","window","location","origin","AuthenticationButton","isAuthenticated","AuthNav","NavBar","App","isLoading","toString","slice","indexOf","toLowerCase","domain","process","REACT_APP_AUTH0_DOMAIN","cliendId","REACT_APP_AUTH0_CLIENT_ID","ReactDOM","render","clientId","redirectUri","document","getElementById"],"mappings":"wPAGaA,EAAU,WACrB,OACE,6BACE,kBAACC,EAAA,EAAD,Q,gDCHeC,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,aAAe,EAAKA,aAAaC,KAAlB,gBAFH,E,yDAKNC,GACXC,KAAKJ,MAAMK,aACXF,EAAMG,mB,+BAIN,OACE,oCAGE,kBAACC,EAAA,EAAD,CAAQC,MAAM,UAAUC,QAASL,KAAKH,cAAtC,e,GAhB+BS,IAAMC,W,wBCAxBC,E,uKAEjB,OACE,6BACE,kBAACC,EAAA,EAAD,CAAMC,UAAU,OACd,kBAACC,EAAA,EAAD,CAAUC,QAAM,EAACC,WAAW,cAC1B,kBAACC,EAAA,EAAD,CACEC,QAASf,KAAKJ,MAAMoB,SAASC,KAC7BC,UACE,mDAEelB,KAAKJ,MAAMoB,SAASG,qB,GAXfb,IAAMC,WCCrBa,E,uKAEjB,OAAIpB,KAAKJ,MAAMyB,QAEX,oCACE,yBAAKC,MAAO,CAAEC,UAAU,GAAD,OAAKvB,KAAKJ,MAAM2B,aACrC,kBAAC7B,EAAA,EAAD,CACE8B,KAAM,IACNC,UAAW,GACXH,MAAO,CACLI,WAAW,GAAD,OAAK1B,KAAKJ,MAAM8B,YAC1BC,QAAQ,GAAD,OAAK3B,KAAKJ,MAAM+B,cAQ/B,oCACE,6BACG3B,KAAKJ,MAAMgC,WAAWC,KAAI,SAACb,GAC1B,OAAO,kBAAC,EAAD,CAAQA,SAAUA,EAAUc,IAAKd,EAASe,c,GAtB1BzB,IAAMC,WCoB5ByB,EAtBK,SAACpC,GACnB,MAAoB,mBAAhBA,EAAMqC,MAEN,6BACE,4BAAKrC,EAAMqC,OACX,yBAAKX,MAAO,CAACK,QAAQ,OAAQO,cAAc,WACzC,qCAAWtC,EAAMuC,KAAjB,SACA,oCAAUvC,EAAMwC,KAAhB,QACA,mCAASxC,EAAMyC,IAAf,QACA,oCAAUzC,EAAM0C,QAMpB,6BACE,4BAAK1C,EAAMqC,S,yBCAJM,EAlBF,CACLC,OADK,SACEJ,GAAO,OAAD,6HACVK,MAAM,oCACVC,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACL,OAAOA,EAAahB,KAAI,SAACb,EAAU8B,GACjC,MAAO,CACLf,GAAIe,EACJ7B,KAAMD,EAAS,GACfG,WAAYH,EAAS,WAVZ,+CCWN+B,EAZE,CACTA,SADS,SACAX,GAAO,OAAD,6HACZK,MAAM,sCACVC,MAAK,SAACC,GACL,OAAOA,EAASC,UAEjBF,MAAK,SAACG,GACL,OAAOA,MANQ,+C,iBCOFG,E,kDACnB,WAAYpD,GAAQ,IAAD,8BACjB,cAAMA,IAoBRqD,YAAc,WAAa,IAAD,OACxB,OAAO,IAAIC,SAAQ,WACjB,EAAKC,SAAS,CACZzB,WAAY,UACZC,QAAS,cACTJ,UAAW,MACXF,SAAS,QA3BI,EAgCnBpB,WAAa,WAAa,IAAD,OACjBmC,EACgB,UAApBpC,KAAKJ,MAAMwC,KAAmB,yBAA2B,QAC3D,OAAO,IAAIc,SAAQ,WACjB,IAAME,EAAQC,IAAOC,MACrBf,EAAKC,OAAOJ,GAAMM,MAAK,SAACd,GACtB,EAAKuB,SAAS,CACZvB,WAAYA,EACZF,WAAY,SACZC,QAAS,OACTJ,UAAW,IACXF,SAAS,EACTkC,UAAWF,MAASG,KAAKJ,EAAO,WAAW,GAC3ChB,KAAMA,WA7CK,EAmDnBqB,gBAAkB,WAAa,IAAD,OACtBrB,EACgB,UAApBpC,KAAKJ,MAAMwC,KAAmB,yBAA2B,QAC3D,OAAO,IAAIc,SAAQ,WACjBH,EAASA,SAASX,GAAMM,MAAK,SAACgB,GAC5B,EAAKP,SAAS,CACZd,IAAKqB,EAASrB,IACdC,KAAMoB,EAASpB,cA1DJ,EAgEnBqB,cAAgB,WACd3D,KAAKiD,cAAcP,KAAK1C,KAAKyD,mBAAmBf,KAAK1C,KAAKC,eA/D1D,EAAK2D,MAAQ,CACXhC,WAAY,GACZF,WAAY,SACZC,QAAS,OACTJ,UAAW,IACXF,SAAS,EACTkC,UAAW,GACXnB,KAAM,IAER,EAAKuB,cAAgB,EAAKA,cAAc7D,KAAnB,gBACrB,EAAKG,WAAa,EAAKA,WAAWH,KAAhB,gBAClB,EAAK2D,gBAAkB,EAAKA,gBAAgB3D,KAArB,gBACvB,EAAKmD,YAAc,EAAKA,YAAYnD,KAAjB,gBAdF,E,kGAsEjB,OACE,yBAAK+D,UAAU,OACb,kBAAC,EAAD,CAAW5D,WAAYD,KAAK2D,gBAC5B,yBAAKE,UAAU,iBACb,kBAAC,EAAD,CACE5B,MAAM,iBACNE,KAAMnC,KAAK4D,MAAML,UACjBnB,KAAMpC,KAAK4D,MAAMxB,KACjBC,IAAKrC,KAAK4D,MAAMvB,IAChBC,KAAMtC,KAAK4D,MAAMtB,QAGrB,kBAAC,EAAD,CACEV,WAAY5B,KAAK4D,MAAMhC,WACvBF,WAAY1B,KAAK4D,MAAMvC,QACvBE,UAAWvB,KAAK4D,MAAMrC,UACtBI,QAAS3B,KAAK4D,MAAMjC,QACpBN,QAASrB,KAAK4D,MAAMvC,e,GAxFSf,IAAMC,WCNhCuD,EAAO,WAClB,OAAO,+BCOMC,EANK,WAAO,IACjBC,EAAsBC,cAAtBD,kBAER,OAAO,kBAAC7D,EAAA,EAAD,CAAQC,MAAM,UAAUC,QAAS,kBAAM2D,MAAvC,WCaME,EAhBM,WAAO,IAClBC,EAAWF,cAAXE,OACR,OACE,kBAAChE,EAAA,EAAD,CACEC,MAAM,UACNC,QAAS,kBACP8D,EAAO,CACLC,SAAUC,OAAOC,SAASC,WAJhC,YCMWC,EANc,WAG3B,OAF4BP,cAApBQ,gBAEiB,kBAAC,EAAD,MAAmB,kBAAC,EAAD,OCD/BC,EANC,kBACd,yBAAKb,UAAU,sBACb,kBAAC,EAAD,QCcWc,EAdA,WACb,OACE,yBAAKd,UAAU,sBACb,yBAAKA,UAAU,iDACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,sBAEf,kBAAC,EAAD,UCwBKe,EA5BH,WAAO,IAAD,EAC6BX,cAArCY,EADQ,EACRA,UAAWJ,EADH,EACGA,gBAAiBrC,EADpB,EACoBA,KAEpC,OAAIyC,EACK,kBAAC,EAAD,MAGLJ,EAEA,oCACE,kBAAC,EAAD,MACA,yBAAKZ,UAAU,yBACb,kBAAC,EAAD,CAAWzB,KAAMA,EAAKnB,KAAK6D,WAAWC,MAAM,EAAG3C,EAAKnB,KAAK6D,WAAWE,QAAQ,MAAMC,kBAMtF,oCACE,kBAAC,EAAD,MACA,yBAAKpB,UAAU,yBACb,kBAAC,EAAD,SCvBJqB,EAASC,mHAAYC,uBACrBC,EAAWF,mHAAYG,0BAE7BC,IAASC,OACP,kBAAC,IAAD,CACEN,OAAQA,EACRO,SAAUJ,EACVK,YAAarB,OAAOC,SAASC,QAE7B,kBAAC,EAAD,OAEFoB,SAASC,eAAe,W","file":"static/js/main.23f5a633.chunk.js","sourcesContent":["import React from 'react';\nimport { CircularProgress } from '@material-ui/core';\n\nexport const Loading = () => {\n  return (\n    <div>\n      <CircularProgress />\n    </div>\n  );\n};\n","import React from 'react';\nimport { Button } from '@material-ui/core';\n\nexport default class SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleSearch = this.handleSearch.bind(this);\n  }\n\n  handleSearch(event) {\n    this.props.searchData();\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <>\n        {/* <Input type='text' placeholder='Search...' color='primary'></Input> */}\n        {/* <Button color='primary'>Dashboard</Button> */}\n        <Button color='primary' onClick={this.handleSearch}>\n          Search\n        </Button>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport { List, ListItem, ListItemText } from '@material-ui/core';\n\nexport default class Result extends React.Component {\n  render() {\n    return (\n      <div>\n        <List component='nav'>\n          <ListItem button alignItems='flex-start'>\n            <ListItemText\n              primary={this.props.business.name}\n              secondary={\n                <>\n                  {/* Rating: {this.props.business.rating}&emsp; */}\n                  Categories: {this.props.business.categories}\n                </>\n              }\n            />\n            {/* <ListItemText primary={this.props.business.rating} /> */}\n            {/* <ListItemText primary={this.props.business.hours} /> */}\n            {/* <ListItemText primary={this.props.business.categories} /> */}\n          </ListItem>\n        </List>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Result from './Result';\nimport { CircularProgress } from '@material-ui/core';\n\nexport default class Results extends React.Component {\n  render() {\n    if (this.props.loading) {\n      return (\n        <>\n          <div style={{ marginTop: `${this.props.marginTop}` }}>\n            <CircularProgress\n              size={200}\n              thickness={0.5}\n              style={{\n                visibility: `${this.props.visibility}`,\n                display: `${this.props.display}`,\n              }}\n            />\n          </div>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <div>\n            {this.props.businesses.map((business) => {\n              return <Result business={business} key={business.id} />;\n            })}\n          </div>\n        </>\n      );\n    }\n  }\n}\n","import React from 'react'\n\nconst DataSection = (props) => {\n  if (props.title === 'Algorithm Data') {\n    return (\n      <div>\n        <h1>{props.title}</h1>\n        <div style={{display:'flex', flexDirection:'column'}}>\n          <p>Query: {props.data}s&nbsp;</p>\n          <p>User: {props.user}&nbsp;</p>\n          <p>MAE: {props.mae}&nbsp;</p>\n          <p>RMSE: {props.rmse}</p>\n        </div>\n      </div>\n    )\n  } else {\n    return (\n      <div>\n        <h1>{props.title}</h1>\n      </div>\n    )\n  }\n}\n\nexport default DataSection\n","const Data = {\n  async Search(user) {\n    return fetch(`http://34.121.66.77:8000/search/`)\n      .then((response) => {\n        return response.json();\n      })\n      .then((jsonResponse) => {\n        return jsonResponse.map((business, index) => {\n          return {\n            id: index,\n            name: business[0],\n            categories: business[1],\n          };\n        });\n      });\n  },\n};\n\nexport default Data;\n","const Accuracy = {\n  async Accuracy(user) {\n    return fetch(`http://34.121.66.77:8000/accuracy/`)\n      .then((response) => {\n        return response.json();\n      })\n      .then((jsonResponse) => {\n        return jsonResponse;\n      });\n  },\n};\n\nexport default Accuracy;\n","import React from 'react';\nimport SearchBar from '../components/SearchBar';\nimport Results from '../components/Results';\nimport DataSection from '../components/DataSection';\nimport Data from '../util/Data';\nimport Accuracy from '../util/Accuracy';\nimport moment from 'moment';\n\nexport default class Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      businesses: [],\n      visibility: 'hidden',\n      display: 'none',\n      marginTop: '0',\n      loading: false,\n      queryTime: '',\n      user: '',\n    };\n    this.searchHandler = this.searchHandler.bind(this);\n    this.searchData = this.searchData.bind(this);\n    this.measureAccuracy = this.measureAccuracy.bind(this);\n    this.showLoading = this.showLoading.bind(this);\n  }\n\n  componentDidMount() {\n    // this.searchHandler();\n  }\n\n  showLoading = function () {\n    return new Promise(() => {\n      this.setState({\n        visibility: 'visible',\n        display: 'flex center',\n        marginTop: '250',\n        loading: true,\n      });\n    });\n  };\n\n  searchData = function () {\n    const user =\n      this.props.user === 'david' ? 'ofKDkJKXSKZXu5xJNGiiBQ' : 'david';\n    return new Promise(() => {\n      const start = moment.now();\n      Data.Search(user).then((businesses) => {\n        this.setState({\n          businesses: businesses,\n          visibility: 'hidden',\n          display: 'none',\n          marginTop: '0',\n          loading: false,\n          queryTime: moment().diff(start, 'seconds', true),\n          user: user,\n        });\n      });\n    });\n  };\n\n  measureAccuracy = function () {\n    const user =\n      this.props.user === 'david' ? 'ofKDkJKXSKZXu5xJNGiiBQ' : 'david';\n    return new Promise(() => {\n      Accuracy.Accuracy(user).then((accuracy) => {\n        this.setState({\n          mae: accuracy.mae,\n          rmse: accuracy.rmse,\n        });\n      });\n    });\n  };\n\n  searchHandler = function () {\n    this.showLoading().then(this.measureAccuracy()).then(this.searchData());\n  };\n\n  render() {\n    // change\n    return (\n      <div className='App'>\n        <SearchBar searchData={this.searchHandler} />\n        <div className='data-sections'>\n          <DataSection\n            title='Algorithm Data'\n            data={this.state.queryTime}\n            user={this.state.user}\n            mae={this.state.mae}\n            rmse={this.state.rmse}\n          />\n        </div>\n        <Results\n          businesses={this.state.businesses}\n          visibility={this.state.loading}\n          marginTop={this.state.marginTop}\n          display={this.state.display}\n          loading={this.state.loading}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport const Home = () => {\n  return <div></div>;\n};\n","import React from 'react';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { Button } from '@material-ui/core';\n\nconst LoginButton = () => {\n  const { loginWithRedirect } = useAuth0();\n\n  return <Button color='primary' onClick={() => loginWithRedirect()}>Log In</Button>;\n};\n\nexport default LoginButton;\n","import React from 'react';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { Button } from '@material-ui/core';\n\nconst LogoutButton = () => {\n  const { logout } = useAuth0();\n  return (\n    <Button\n      color='primary'\n      onClick={() =>\n        logout({\n          returnTo: window.location.origin,\n        })\n      }\n    >\n      Log Out\n    </Button>\n  );\n};\n\nexport default LogoutButton;\n","import React from 'react';\n\nimport LoginButton from './LoginButton';\nimport LogoutButton from './LogoutButton';\n\nimport { useAuth0 } from '@auth0/auth0-react';\n\nconst AuthenticationButton = () => {\n  const { isAuthenticated } = useAuth0();\n\n  return isAuthenticated ? <LogoutButton /> : <LoginButton />;\n};\n\nexport default AuthenticationButton;\n","import React from \"react\";\nimport AuthenticationButton from \"./AuthenticationButton\";\n\nconst AuthNav = () => (\n  <div className=\"navbar-nav ml-auto\">\n    <AuthenticationButton />\n  </div>\n);\n\nexport default AuthNav;","import React from 'react';\n\n// import MainNav from './main-nav';\nimport AuthNav from './auth-nav';\n\nconst NavBar = () => {\n  return (\n    <div className='nav-container mb-3'>\n      <nav className='navbar navbar-expand-md navbar-light bg-light'>\n        <div className='container'>\n          <div className='navbar-brand logo' />\n          {/* <MainNav /> */}\n          <AuthNav />\n        </div>\n      </nav>\n    </div>\n  );\n};\n\nexport default NavBar;\n","import React from 'react';\nimport './App.css';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { Loading } from './components/Loading';\nimport Dashboard from './pages/Dashboard';\nimport { Home } from './pages/Home';\nimport NavBar from './components/NavBar';\n\nconst App = () => {\n  const { isLoading, isAuthenticated, user } = useAuth0();\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  if (isAuthenticated) {\n    return (\n      <>\n        <NavBar />\n        <div className='container flex-grow-1'>\n          <Dashboard user={user.name.toString().slice(0, user.name.toString().indexOf(' ')).toLowerCase()}/>\n        </div>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <NavBar />\n        <div className='container flex-grow-1'>\n          <Home />\n        </div>\n      </>\n    );\n  }\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Auth0Provider } from '@auth0/auth0-react';\nimport './index.css';\nimport App from './App';\n\nconst domain = process.env.REACT_APP_AUTH0_DOMAIN;\nconst cliendId = process.env.REACT_APP_AUTH0_CLIENT_ID;\n\nReactDOM.render(\n  <Auth0Provider\n    domain={domain}\n    clientId={cliendId}\n    redirectUri={window.location.origin}\n  >\n    <App />\n  </Auth0Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}