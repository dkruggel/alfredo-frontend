(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,n){e.exports=n(58)},50:function(e,t,n){},51:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),c=n.n(i),s=n(9),l=(n(50),n(51),n(72)),o=function(){return r.a.createElement("div",null,r.a.createElement(l.a,null))},u=n(12),m=n(13),d=n(10),h=n(15),p=n(14),E=n(73),b=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleSearch=a.handleSearch.bind(Object(d.a)(a)),a}return Object(m.a)(n,[{key:"handleSearch",value:function(e){this.props.searchData(),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{color:"primary",onClick:this.handleSearch},"Search"))}}]),n}(r.a.Component),f=n(74),v=n(75),g=n(76),O=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f.a,{component:"nav"},r.a.createElement(v.a,{button:!0,alignItems:"flex-start"},r.a.createElement(g.a,{primary:this.props.business.name,secondary:r.a.createElement(r.a.Fragment,null,"Categories: ",this.props.business.categories)}))))}}]),n}(r.a.Component),y=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return this.props.loading?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginTop:"".concat(this.props.marginTop)}},r.a.createElement(l.a,{size:200,thickness:.5,style:{visibility:"".concat(this.props.visibility),display:"".concat(this.props.display)}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,this.props.businesses.map((function(e){return r.a.createElement(O,{business:e,key:e.id})}))))}}]),n}(r.a.Component),j=function(e){return"Algorithm Data"===e.title?r.a.createElement("div",null,r.a.createElement("h1",null,e.title),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("p",null,"Query: ",e.data,"s\xa0"),r.a.createElement("p",null,"User: ",e.user,"\xa0"),r.a.createElement("p",null,"MAE: ",e.mae,"\xa0"),r.a.createElement("p",null,"RMSE: ",e.rmse))):r.a.createElement("div",null,r.a.createElement("h1",null,e.title))},S=n(19),T=n.n(S),D=n(28),_={Search:function(e){return Object(D.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://34.121.66.77:8000/search/").then((function(e){return e.json()})).then((function(e){return e.map((function(e,t){return{id:t,name:e[0],categories:e[1]}}))})));case 1:case"end":return e.stop()}}),e)})))()}},w={Accuracy:function(e){return Object(D.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://34.121.66.77:8000/accuracy/").then((function(e){return e.json()})).then((function(e){return e})));case 1:case"end":return e.stop()}}),e)})))()}},A=n(29),C=n.n(A),k=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).showLoading=function(){var e=this;return new Promise((function(){e.setState({visibility:"visible",display:"flex center",marginTop:"250",loading:!0})}))},a.searchData=function(){var e=this,t="david"===this.props.user?"ofKDkJKXSKZXu5xJNGiiBQ":"david";return new Promise((function(){var n=C.a.now();_.Search(t).then((function(a){e.setState({businesses:a,visibility:"hidden",display:"none",marginTop:"0",loading:!1,queryTime:C()().diff(n,"seconds",!0),user:t})}))}))},a.measureAccuracy=function(){var e=this,t="david"===this.props.user?"ofKDkJKXSKZXu5xJNGiiBQ":"david";return new Promise((function(){w.Accuracy(t).then((function(t){e.setState({mae:t.mae,rmse:t.rmse})}))}))},a.searchHandler=function(){this.showLoading().then(this.measureAccuracy()).then(this.searchData())},a.state={businesses:[],visibility:"hidden",display:"none",marginTop:"0",loading:!1,queryTime:"",user:""},a.searchHandler=a.searchHandler.bind(Object(d.a)(a)),a.searchData=a.searchData.bind(Object(d.a)(a)),a.measureAccuracy=a.measureAccuracy.bind(Object(d.a)(a)),a.showLoading=a.showLoading.bind(Object(d.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,{searchData:this.searchHandler}),r.a.createElement("div",{className:"data-sections"},r.a.createElement(j,{title:"Algorithm Data",data:this.state.queryTime,user:this.state.user,mae:this.state.mae,rmse:this.state.rmse})),r.a.createElement(y,{businesses:this.state.businesses,visibility:this.state.loading,marginTop:this.state.marginTop,display:this.state.display,loading:this.state.loading}))}}]),n}(r.a.Component),N=function(){return r.a.createElement("div",null)},x=function(){var e=Object(s.b)().loginWithRedirect;return r.a.createElement(E.a,{color:"primary",onClick:function(){return e()}},"Log In")},L=function(){var e=Object(s.b)().logout;return r.a.createElement(E.a,{color:"primary",onClick:function(){return e({returnTo:window.location.origin})}},"Log Out")},P=function(){return Object(s.b)().isAuthenticated?r.a.createElement(L,null):r.a.createElement(x,null)},K=function(){return r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement(P,null))},H=function(){return r.a.createElement("div",{className:"nav-container mb-3"},r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand logo"}),r.a.createElement(K,null))))},I=function(){var e=Object(s.b)(),t=e.isLoading,n=e.isAuthenticated,a=e.user;return t?r.a.createElement(o,null):n?r.a.createElement(r.a.Fragment,null,r.a.createElement(H,null),r.a.createElement("div",{className:"container flex-grow-1"},r.a.createElement(k,{user:a.name.toString().slice(0,a.name.toString().indexOf(" ")).toLowerCase()}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(H,null),r.a.createElement("div",{className:"container flex-grow-1"},r.a.createElement(N,null)))},R=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AUTH0_DOMAIN,U=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AUTH0_CLIENT_ID;c.a.render(r.a.createElement(s.a,{domain:R,clientId:U,redirectUri:window.location.origin},r.a.createElement(I,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.23f5a633.chunk.js.map